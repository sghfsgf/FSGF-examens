<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <!-- âœ… OBLIGATOIRE POUR MOBILE -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planification des Examens et des Surveillances</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">

</head>

<body>

  <!-- ===== Barre de navigation ===== -->
  <nav>
    <a href="index.html">Examens</a>
    <a href="documents.html">Documents</a>
    <a href="reclamations.html">RÃ©clamations</a>
  </nav>

  <!-- ===== Logo ===== -->
  <img class="logo-fixed" src="logo_ecole.png" alt="Logo de l'Ã©cole">

  <!-- ===== Header ===== -->
  <header>
    <h1>
      Documents des Examens<br>
      Session Janvier 2026
     </h1>
  </header>
      <form id="reclamationForm">

  <!-- DÃ©partement -->
  <label for="departement">DÃ©partement :</label>
  <select id="departement" name="departement" required>
    <option value="">SÃ©lectionner le dÃ©partement</option>
    <option value="SV">SV</option>
    <option value="ST">ST</option>
    <option value="INFO">INFO</option>
    <option value="CH">CH</option>
    <option value="PHYS">PHYS</option>
    <option value="FT">FT</option>
    <option value="MATHS">MATHS</option>
    <option value="LANGUES">LANGUES</option>
  </select>

  <!-- Nom & PrÃ©nom -->
  <label for="nomPrenom">Nom et PrÃ©nom :</label>
  <input type="text" id="nomPrenom" name="nomPrenom"
         placeholder="Ton nom et prÃ©nom" required>

  <!-- Email -->
  <label for="email">Adresse eâ€‘mail :</label>
  <input type="email" id="email" name="email"
         placeholder="exemple@exemple.com" required>

  <!-- Type de rÃ©clamation -->
  <label for="typeReclamation">Type de rÃ©clamation :</label>
  <select id="typeReclamation" name="typeReclamation" required>
    <option value="">SÃ©lectionner un type</option>
    <option value="absent_surveillance">
      ÃŠtre absent pour les jours de surveillance
    </option>
    <option value="demande_vice_doyen">
      Demande au viceâ€‘doyen de la FSGF
    </option>
    <option value="changer_matieres">
      Changer des matiÃ¨res
    </option>
    <option value="permuter_matieres">
      Permuter des matiÃ¨res entre deux jours
    </option>
    <option value="autre">Autre (prÃ©ciser ciâ€‘dessous)</option>
  </select>

  <!-- DÃ©tails de la rÃ©clamation -->
  <label for="details">DÃ©tails (prÃ©ciser ici) :</label>
  <textarea id="details" name="details"
            placeholder="DÃ©crivez votre rÃ©clamation ici..."
            rows="4"></textarea>

  <button type="submit">Envoyer</button>

</form>

<script>
document.getElementById("reclamationForm").addEventListener("submit", async function(e) {
  e.preventDefault();

  const data = {
    departement: e.target.departement.value,
    nomPrenom: e.target.nomPrenom.value,
    email: e.target.email.value,
    typeReclamation: e.target.typeReclamation.value,
    details: e.target.details.value
  };

  const res = await fetch("https://script.google.com/macros/s/AKfycbwAFLDsibYj9nuVkM0xF8Zlq4JQdQFr2ET3KmLoo1PT_NZ1xcIdxB6NNdIYYJmKX-Na/exec", {
    method: "POST",
    body: JSON.stringify(data),
    headers: {"Content-Type":"application/json"}
  });

  const result = await res.json();
  if(result.status === "ok") {
    alert("RÃ©clamation envoyÃ©e avec succÃ¨s !");
    e.target.reset();
  } else {
    alert("Erreur lors de lâ€™envoi. RÃ©essayez.");
  }
});
</script>



  <!-- ===== Surveillances ===== -->
  <section>
    <div class="section-title">ğŸ—‚ï¸ Documents des Surveillances</div>
    <div class="left-links">
      <a class="pdf-link" href="liste_enseignants.pdf" target="_blank">
        ğŸ“„ Liste des enseignants
      </a>
    </div>
  </section>

  <!-- ===== Excel ===== -->
  <section>
    <div class="section-title">ğŸ“Š Documents Excel par DÃ©partement</div>
    <div class="left-links">
      <a class="pdf-link" href="Dep_SV.xlsx" download>ğŸ“¥ DÃ©partement SV</a>
      <a class="pdf-link" href="Dep_ST.xlsx" download>ğŸ“¥ DÃ©partement ST</a>
      <a class="pdf-link" href="Dep_INFO.xlsx" download>ğŸ“¥ DÃ©partement INFO</a>
      <a class="pdf-link" href="Dep_CH.xlsx" download>ğŸ“¥ DÃ©partement CH</a>
      <a class="pdf-link" href="Dep_PHYS.xlsx" download>ğŸ“¥ DÃ©partement PHYS</a>
      <a class="pdf-link" href="Dep_FT.xlsx" download>ğŸ“¥ DÃ©partement FT</a>
      <a class="pdf-link" href="Dep_MATHS.xlsx" download>ğŸ“¥ DÃ©partement MATHS</a>
    </div>
  </section>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(reg => console.log('Service Worker enregistrÃ©:', reg))
      .catch(err => console.log('Erreur Service Worker:', err));
  }
</script>

</body>
</html>




